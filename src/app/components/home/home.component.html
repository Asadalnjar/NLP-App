@if (!re) {
<div class="section w-75 mx-auto  p-4 rounded-5 mt-3 p-3 px-5">
    <h1 class="text-center">Research Upload</h1>
    @if (message) {<p class="alert alert-info w-50 mx-auto text-center">{{message}}</p>}
    <div class="mb-4">
        <h3 class="mb-2">Research Name</h3>
        <input type="text" class="w-50" [(ngModel)]="name">
    </div>
    <div>
        <h3 class="mb-2">Research Type</h3>
        <input type="text" class="w-50" [(ngModel)]="type">
    </div>

    <div class="mt-3">
        <h3 class="mb-2">choose file</h3>
        <input type="file" (change)="onFileSelected($event)" [(ngModel)]="selectedFile">
    </div>
    <div class="d-flex justify-content-around">
        <button class="btn-main mt-3 w-25" (click)="sendFile()" (click)="getCount()"
            (click)="getaverage()">Upload</button>
        @if (isreturn) {<button class="btn-main mt-3 w-25" (click)="sendtoBack()">save</button>}
        <button class="btn-main mt-3 w-25" (click)="reportG()" [disabled]="!isreturn2">Show Report</button>
    </div>
</div>
}


@if (re) {<div class="section w-75 mx-auto  p-4 rounded-5 mt-3 p-3 px-5">
    <h1 class="text-center">Reports and Analytics</h1>
    <i class="fa-solid fa-arrow-left fw-bold fs-3 cursor-pointer" (click)="reportB()"></i>
    <div class="container mt-3">
        <div class="row">
            <div class="col-sm-12 col-md-7">
                <div class="item1 p-4">
                    <h2>Common Error Report</h2>
                    <p>This section highlights the most common errors found in the submitted research papers</p>
                    <div class="div-1 p-2 mb-2">
                        <h5 class="mb-0">Grammar Errors: {{ReturnArray.error_type.grammar_errors}} occurrences</h5>
                    </div>
                    <div class="div-1 p-2 mb-2">
                        <h5 class="mb-0">Punctuation Errors: {{ReturnArray.error_type.punctuation_errors}} occurrences
                        </h5>
                    </div>
                    <div class="div-1 p-2 mb-2">
                        <h5 class="mb-0">Semantic Contextual Errors:
                            {{ReturnArray.error_type.semantic_contextual_errors}} occurrences</h5>
                    </div>
                    <div class="div-1 p-2 mb-2">
                        <h5 class="mb-0">Spelling Errors: {{ReturnArray.error_type.spelling_errors}} occurrences</h5>
                    </div>
                    <div class="div-1 p-2">
                        <h5 class="mb-0">Style Readability Issues: {{ReturnArray.error_type.style_readability_issues}}
                            occurrences</h5>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 col-md-5 d-flex align-items-center justify-content-center">
                <div class="chart d-flex justify-content-center align-items-center me-3">
                    <div class="child-chart">

                    </div>
                </div>
                <div class="errors">
                    <div class="err d-flex justify-content-center align-items-center mb-1">
                        <p class="mb-0 me-2">Error type 1</p>
                        <div class="color">

                        </div>
                    </div>
                    <div class="err d-flex justify-content-center align-items-center mb-1">
                        <p class="mb-0 me-2">Error type 2</p>
                        <div class="color2">

                        </div>
                    </div>
                    <div class="err d-flex justify-content-center align-items-center mb-1">
                        <p class="mb-0 me-2">Error type 3</p>
                        <div class="color3">

                        </div>
                    </div>
                    <div class="err d-flex justify-content-center align-items-center mb-1">
                        <p class="mb-0 me-2">Error type 4</p>
                        <div class="color4">

                        </div>
                    </div>
                    <div class="err d-flex justify-content-center align-items-center mb-1">
                        <p class="mb-0 me-2">Error type 5</p>
                        <div class="color5">

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="item2 p-3 mt-3">
                    <p>
                        {{correctedText}}
                    </p>
                </div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-sm-12 col-md-12">
                <div class="item p-3">
                    <h2 class="ms-3">Reviewer Performance</h2>
                    <div class="container">
                        <div class="row">
                            <div class="col-sm-12 col-md-6">
                                <div class="div-2 px-5 py-4 text-center">
                                    <h5>Average Correction Score </h5>
                                    <h5 class="mb-0">{{starts}}/5</h5>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <div class="div-2 text-center px-5 py-4 ">
                                    <h5>Number of Reviews </h5>
                                    <h5 class="mb-0">{{rate}}</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="btns d-flex justify-content-center">

                <button class="btn-main mt-3" routerLink="/main/rate">Rate</button>
            </div>
        </div>
    </div>
</div>
}


